{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\todolist-app\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useState } from \"react\";\nimport { TodoList } from \"./TodoList\";\nimport { v4 } from \"uuid\"; // uuid: tạo id duy nhất\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [todoList, setTodoList] = useState([]);\n  const [job, setJob] = useState(\"\");\n  const [editTodo, setEditTodo] = useState({}); // Get localstorage\n\n  useEffect(() => {\n    var _JSON$parse;\n\n    const storageTodoList = (_JSON$parse = JSON.parse(localStorage.getItem(\"todoList\"))) !== null && _JSON$parse !== void 0 ? _JSON$parse : []; // Lấy json parse ra mảng\n\n    if (storageTodoList) {\n      setTodoList(storageTodoList);\n    }\n  }, []); //Save localstorage\n\n  const saveLocal = () => {\n    const jsonTodoList = JSON.stringify(todoList);\n    localStorage.setItem(\"todoList\", jsonTodoList);\n  };\n\n  useEffect(() => {\n    // const jsonTodoList = JSON.stringify(todoList);\n    // localStorage.setItem(\"todoList\", jsonTodoList);\n    saveLocal();\n  }, [todoList]); // add\n\n  const handleSubmit = useCallback(() => {\n    setTodoList(todoList => [...todoList, {\n      id: v4(),\n      name: job,\n      isCompleted: false\n    }]); //reset input\n\n    setJob(\"\");\n  }, [job]); //checkdone: cần id -> filter todolist xem việc làm nào có id tương ứng & cập nhật lại giá trị isCompleted từ false > true\n\n  const checkDone = useCallback(id => {\n    setTodoList(prevState => prevState.map(todo => todo.id === id ? { ...todo,\n      isCompleted: true\n    } : todo));\n  }, []); // Delete\n\n  const deleteJob = id => {\n    const newJobs = [...todoList];\n    newJobs.splice(id, 1); // xóa 1 phần tử ở vị trí id\n\n    setTodoList(newJobs);\n  }; // Edit\n  // keywork: js check object empty -> Object.keys(obj).length === 0;\n\n\n  const handleEditTodo = todo => {\n    isEmptyObj = Object.keys(editTodo).length === 0; // true\n    // *save\n    // keywork: js update object in array\n\n    if (isEmptyObj === false && editTodo.id === todo.id) {\n      console.log('save');\n      const todoListCopy = { ...todoList\n      };\n      console.log(todoListCopy);\n      const objIndex = todoListCopy.map(item => item.id === todo.id);\n      todoListCopy[objIndex].name = editTodo.name;\n      setTodoList(todoListCopy);\n      saveLocal(); // // Tìm phần tử thứ mấy\n      // let objIndex = todoListCopy.findIndex((item => item.id === todo.id));\n      // //Update object's name property.\n      // todoListCopy[objIndex].name = editTodo.name\n      // console.log(objIndex)\n      // setTodoList(todoListCopy)\n      // saveLocal()\n\n      return;\n    } // *edit\n\n\n    setEditTodo(todo);\n  }; // check editTodo empty?\n\n\n  let isEmptyObj;\n  isEmptyObj = Object.keys(editTodo).length === 0; // true\n  // Onchange EditTodo\n\n  const handleOnchangeEditTodo = e => {\n    let editTodoCopy = { ...editTodo\n    };\n    editTodoCopy.name = e.target.value;\n    setEditTodo(editTodoCopy);\n    console.log(editTodoCopy);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"list\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Danh s\\xE1ch c\\u1EA7n l\\xE0m\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Th\\xEAm vi\\u1EC7c c\\u1EA7n l\\xE0m...\",\n        value: job,\n        onChange: e => setJob(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: !job,\n        onClick: handleSubmit,\n        children: \"Th\\xEAm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TodoList, {\n      todoList: todoList,\n      checkDone: checkDone,\n      deleteJob: deleteJob,\n      handleEditTodo: handleEditTodo,\n      editTodo: editTodo,\n      isEmptyObj: isEmptyObj,\n      handleOnchangeEditTodo: handleOnchangeEditTodo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"muIwl7NTdJXgOKcZpPHwBG89roY=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useCallback","useEffect","useState","TodoList","v4","App","todoList","setTodoList","job","setJob","editTodo","setEditTodo","storageTodoList","JSON","parse","localStorage","getItem","saveLocal","jsonTodoList","stringify","setItem","handleSubmit","id","name","isCompleted","checkDone","prevState","map","todo","deleteJob","newJobs","splice","handleEditTodo","isEmptyObj","Object","keys","length","console","log","todoListCopy","objIndex","item","handleOnchangeEditTodo","e","editTodoCopy","target","value"],"sources":["C:/Users/lenovo/Desktop/todolist-app/src/App.js"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\nimport { TodoList } from \"./TodoList\";\nimport { v4 } from \"uuid\";\n\n// uuid: tạo id duy nhất\n\nfunction App() {\n  const [todoList, setTodoList] = useState([]);\n  const [job, setJob] = useState(\"\");\n  const [editTodo, setEditTodo] = useState({});\n  // Get localstorage\n  useEffect(() => {\n    const storageTodoList = JSON.parse(localStorage.getItem(\"todoList\")) ?? []; // Lấy json parse ra mảng\n    if (storageTodoList) {\n      setTodoList(storageTodoList);\n    }\n  }, []);\n\n  //Save localstorage\n  const saveLocal = () => {\n    const jsonTodoList = JSON.stringify(todoList);\n    localStorage.setItem(\"todoList\", jsonTodoList);\n  }\n  useEffect(() => {\n    // const jsonTodoList = JSON.stringify(todoList);\n    // localStorage.setItem(\"todoList\", jsonTodoList);\n    saveLocal()\n  }, [todoList]);\n  \n\n\n\n  // add\n  const handleSubmit = useCallback(() => {\n    setTodoList((todoList) => [...todoList, { id: v4(), name: job, isCompleted: false }]);\n\n    //reset input\n    setJob(\"\");\n  }, [job]);\n\n  //checkdone: cần id -> filter todolist xem việc làm nào có id tương ứng & cập nhật lại giá trị isCompleted từ false > true\n  const checkDone = useCallback((id) => {\n    setTodoList((prevState) =>\n      prevState.map((todo) =>\n        todo.id === id ? { ...todo, isCompleted: true } : todo\n      )\n    );\n  }, []);\n\n  // Delete\n  const deleteJob = (id) => {\n    const newJobs = [...todoList];\n    newJobs.splice(id, 1); // xóa 1 phần tử ở vị trí id\n\n    setTodoList(newJobs);\n  };\n\n  // Edit\n  // keywork: js check object empty -> Object.keys(obj).length === 0;\n  const handleEditTodo = (todo) => {\n    isEmptyObj = Object.keys(editTodo).length === 0; // true\n\n    // *save\n    // keywork: js update object in array\n    if(isEmptyObj === false && editTodo.id === todo.id) {\n      console.log('save')\n\n      const todoListCopy = {...todoList}\n      console.log(todoListCopy)\n      const objIndex = todoListCopy.map(item => (item.id === todo.id));\n\n      todoListCopy[objIndex].name = editTodo.name\n      setTodoList(todoListCopy)\n      saveLocal()\n\n\n      // // Tìm phần tử thứ mấy\n      // let objIndex = todoListCopy.findIndex((item => item.id === todo.id));\n\n      // //Update object's name property.\n      // todoListCopy[objIndex].name = editTodo.name\n      // console.log(objIndex)\n      // setTodoList(todoListCopy)\n      // saveLocal()\n\n      return;\n    }\n    // *edit\n    setEditTodo(todo);\n  };\n\n  // check editTodo empty?\n  let isEmptyObj;\n  isEmptyObj = Object.keys(editTodo).length === 0; // true\n\n  // Onchange EditTodo\n  const handleOnchangeEditTodo = (e) => {\n    let editTodoCopy = {...editTodo}\n    editTodoCopy.name = e.target.value\n    setEditTodo(editTodoCopy)\n    console.log(editTodoCopy)\n  } \n\n  return (\n    <div className=\"list\">\n      <h2>Danh sách cần làm</h2>\n      <div className=\"input\">\n        <input\n          placeholder=\"Thêm việc cần làm...\"\n          value={job}\n          onChange={(e) => setJob(e.target.value)}\n        />\n        <button disabled={!job} onClick={handleSubmit}>\n          Thêm\n        </button>\n      </div>\n      <TodoList\n        todoList={todoList}\n        checkDone={checkDone}\n        deleteJob={deleteJob}\n        handleEditTodo={handleEditTodo}\n        editTodo={editTodo}\n        isEmptyObj={isEmptyObj}\n        handleOnchangeEditTodo={handleOnchangeEditTodo}\n        \n      />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}