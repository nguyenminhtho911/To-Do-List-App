{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\todolist-app\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useState } from \"react\";\nimport { TodoList } from \"./TodoList\"; // uuid: tạo id duy nhất\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [todoList, setTodoList] = useState([]);\n  const [job, setJob] = useState(\"\"); // Get localstorage\n\n  useEffect(() => {\n    var _JSON$parse;\n\n    const storageTodoList = (_JSON$parse = JSON.parse(localStorage.getItem(\"todoList\"))) !== null && _JSON$parse !== void 0 ? _JSON$parse : []; // Lấy json parse ra mảng\n\n    if (storageTodoList) {\n      setTodoList(storageTodoList);\n    }\n  }, []); //Save localstorage\n\n  useEffect(() => {\n    const jsonTodoList = JSON.stringify(todoList);\n    localStorage.setItem(\"todoList\", jsonTodoList);\n  }, [todoList]); // add\n\n  const handleSubmit = useCallback(() => {\n    setTodoList(prev => [...prev, {\n      name: job,\n      isCompleted: false\n    }]); //reset input\n\n    setJob(\"\");\n  }, [job]); //checkdone: cần id -> filter todolist xem việc làm nào có id tương ứng & cập nhật lại giá trị isCompleted từ false > true\n\n  const checkDone = useCallback(id => {\n    setTodoList(prevState => prevState.map((todo, index) => index === id ? { ...todo,\n      isCompleted: true\n    } : todo));\n  }, []); // Delete\n\n  const deleteJob = id => {\n    const newJobs = [...todoList];\n    newJobs.splice(id, 1); // xóa 1 phần tử ở vị trí id\n\n    setTodoList(newJobs);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"list\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Danh s\\xE1ch c\\u1EA7n l\\xE0m\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Nh\\u1EADp vi\\u1EC7c l\\xE0m...\",\n        value: job,\n        onChange: e => setJob(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: !job,\n        onClick: handleSubmit,\n        children: \"Th\\xEAm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TodoList, {\n      todoList: todoList,\n      checkDone: checkDone,\n      deleteJob: deleteJob\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"9tF1yq9qzXPUfQSUhOo8CKwZ5W4=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useCallback","useEffect","useState","TodoList","App","todoList","setTodoList","job","setJob","storageTodoList","JSON","parse","localStorage","getItem","jsonTodoList","stringify","setItem","handleSubmit","prev","name","isCompleted","checkDone","id","prevState","map","todo","index","deleteJob","newJobs","splice","e","target","value"],"sources":["C:/Users/lenovo/Desktop/todolist-app/src/App.js"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\nimport { TodoList } from \"./TodoList\";\n\n// uuid: tạo id duy nhất\n\nfunction App() {\n  const [todoList, setTodoList] = useState([]);\n  const [job, setJob] = useState(\"\");\n\n  // Get localstorage\n  useEffect(() => {\n    const storageTodoList = JSON.parse(localStorage.getItem(\"todoList\")) ?? []; // Lấy json parse ra mảng\n    if (storageTodoList) {\n      setTodoList(storageTodoList)\n    }\n  }, []);\n\n  //Save localstorage\n  useEffect(() => {\n    const jsonTodoList = JSON.stringify(todoList);\n    localStorage.setItem(\"todoList\", jsonTodoList);\n  }, [todoList]);\n\n  // add\n  const handleSubmit = useCallback(() => {\n    setTodoList((prev) => [...prev, { name: job, isCompleted: false }]);\n\n    //reset input\n    setJob(\"\");\n  }, [job]);\n\n  //checkdone: cần id -> filter todolist xem việc làm nào có id tương ứng & cập nhật lại giá trị isCompleted từ false > true\n  const checkDone = useCallback((id) => {\n    setTodoList((prevState) =>\n      prevState.map((todo, index) =>\n        index === id ? { ...todo, isCompleted: true } : todo\n      )\n    );\n  }, []);\n\n  // Delete\n  const deleteJob = (id) => {\n\t\t\tconst newJobs = [...todoList]\n\t\t\tnewJobs.splice(id, 1) // xóa 1 phần tử ở vị trí id\n      \n      setTodoList(newJobs)\n      \n  }\n\n  return (\n    <div className=\"list\">\n      <h2>Danh sách cần làm</h2>\n      <div className=\"input\">\n        <input\n          placeholder=\"Nhập việc làm...\"\n          value={job}\n          onChange={(e) => setJob(e.target.value)}\n        />\n        <button disabled={!job} onClick={handleSubmit}>\n          Thêm\n        </button>\n      </div>\n      <TodoList todoList={todoList} checkDone={checkDone} deleteJob={deleteJob}/>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;;AAAA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,OAAjD;AACA,SAASC,QAAT,QAAyB,YAAzB,C,CAEA;;;;AAEA,SAASC,GAAT,GAAe;EAAA;;EACb,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BJ,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACK,GAAD,EAAMC,MAAN,IAAgBN,QAAQ,CAAC,EAAD,CAA9B,CAFa,CAIb;;EACAD,SAAS,CAAC,MAAM;IAAA;;IACd,MAAMQ,eAAe,kBAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAH,qDAAmD,EAAxE,CADc,CAC8D;;IAC5E,IAAIJ,eAAJ,EAAqB;MACnBH,WAAW,CAACG,eAAD,CAAX;IACD;EACF,CALQ,EAKN,EALM,CAAT,CALa,CAYb;;EACAR,SAAS,CAAC,MAAM;IACd,MAAMa,YAAY,GAAGJ,IAAI,CAACK,SAAL,CAAeV,QAAf,CAArB;IACAO,YAAY,CAACI,OAAb,CAAqB,UAArB,EAAiCF,YAAjC;EACD,CAHQ,EAGN,CAACT,QAAD,CAHM,CAAT,CAba,CAkBb;;EACA,MAAMY,YAAY,GAAGjB,WAAW,CAAC,MAAM;IACrCM,WAAW,CAAEY,IAAD,IAAU,CAAC,GAAGA,IAAJ,EAAU;MAAEC,IAAI,EAAEZ,GAAR;MAAaa,WAAW,EAAE;IAA1B,CAAV,CAAX,CAAX,CADqC,CAGrC;;IACAZ,MAAM,CAAC,EAAD,CAAN;EACD,CAL+B,EAK7B,CAACD,GAAD,CAL6B,CAAhC,CAnBa,CA0Bb;;EACA,MAAMc,SAAS,GAAGrB,WAAW,CAAEsB,EAAD,IAAQ;IACpChB,WAAW,CAAEiB,SAAD,IACVA,SAAS,CAACC,GAAV,CAAc,CAACC,IAAD,EAAOC,KAAP,KACZA,KAAK,KAAKJ,EAAV,GAAe,EAAE,GAAGG,IAAL;MAAWL,WAAW,EAAE;IAAxB,CAAf,GAAgDK,IADlD,CADS,CAAX;EAKD,CAN4B,EAM1B,EAN0B,CAA7B,CA3Ba,CAmCb;;EACA,MAAME,SAAS,GAAIL,EAAD,IAAQ;IACzB,MAAMM,OAAO,GAAG,CAAC,GAAGvB,QAAJ,CAAhB;IACAuB,OAAO,CAACC,MAAR,CAAeP,EAAf,EAAmB,CAAnB,EAFyB,CAEH;;IAEnBhB,WAAW,CAACsB,OAAD,CAAX;EAEH,CAND;;EAQA,oBACE;IAAK,SAAS,EAAC,MAAf;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAK,SAAS,EAAC,OAAf;MAAA,wBACE;QACE,WAAW,EAAC,+BADd;QAEE,KAAK,EAAErB,GAFT;QAGE,QAAQ,EAAGuB,CAAD,IAAOtB,MAAM,CAACsB,CAAC,CAACC,MAAF,CAASC,KAAV;MAHzB;QAAA;QAAA;QAAA;MAAA,QADF,eAME;QAAQ,QAAQ,EAAE,CAACzB,GAAnB;QAAwB,OAAO,EAAEU,YAAjC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QANF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF,eAYE,QAAC,QAAD;MAAU,QAAQ,EAAEZ,QAApB;MAA8B,SAAS,EAAEgB,SAAzC;MAAoD,SAAS,EAAEM;IAA/D;MAAA;MAAA;MAAA;IAAA,QAZF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAgBD;;GA5DQvB,G;;KAAAA,G;AA8DT,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}