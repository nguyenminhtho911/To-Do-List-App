{"ast":null,"code":"import _toConsumableArray from\"C:/Users/lenovo/Desktop/todolist-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/lenovo/Desktop/todolist-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useRef}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var inputRef=useRef();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),job=_useState2[0],setJob=_useState2[1];var _useState3=useState(function(){var storageJobs=JSON.parse(localStorage.getItem(\"jobs\"));// Lấy json parse ra array\nreturn storageJobs!==null&&storageJobs!==void 0?storageJobs:[];// null or undefine lấy []\n}),_useState4=_slicedToArray(_useState3,2),jobs=_useState4[0],setJobs=_useState4[1];var handleSubmit=function handleSubmit(){if(!job.length){alert(\"Chưa nhập Todo!\");return;}//(2) tạo hàm submit lấy job thêm vào danh sách jobs\nsetJobs(function(prev){var newJobs=[].concat(_toConsumableArray(prev),[job]);//Save to localstorage (3)\nvar jsonJobs=JSON.stringify(newJobs);localStorage.setItem(\"jobs\",jsonJobs);return newJobs;});setJob(\"\");// set done chuyển thành chuỗi rỗng\ninputRef.current.focus();};var deleteJob=function deleteJob(index){var newJobs=_toConsumableArray(jobs);// tránh sửa mảng cũ, sửa mảng newJobs ko ảnh hưởng đến mảng cũ\nnewJobs.splice(index,1);//Save to localstorage\nvar jsonJobs=JSON.stringify(newJobs);localStorage.setItem(\"jobs\",jsonJobs);setJobs(newJobs);};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Todo List\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",ref:inputRef,value:job,onChange:function onChange(e){return setJob(e.target.value);}// (1) two-way binding\n}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:handleSubmit,children:\"Add\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group\",children:jobs.map(function(job,index){return/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[job,/*#__PURE__*/_jsx(\"span\",{className:\"close\",onClick:function onClick(){return deleteJob(index);},children:\"\\xD7\"})]},index);})})]});}export default App;","map":{"version":3,"names":["useState","useRef","App","inputRef","job","setJob","storageJobs","JSON","parse","localStorage","getItem","jobs","setJobs","handleSubmit","length","alert","prev","newJobs","jsonJobs","stringify","setItem","current","focus","deleteJob","index","splice","e","target","value","map"],"sources":["C:/Users/lenovo/Desktop/todolist-app/src/App.js"],"sourcesContent":["import { useState, useRef } from \"react\";\nfunction App() {\n  const inputRef = useRef();\n\n  const [job, setJob] = useState(\"\");\n  const [jobs, setJobs] = useState(() => {\n    const storageJobs = JSON.parse(localStorage.getItem(\"jobs\")); // Lấy json parse ra array\n    return storageJobs ?? []; // null or undefine lấy []\n  });\n\n  \n\n  const handleSubmit = () => {\n    if (!job.length) {\n      alert(\"Chưa nhập Todo!\");\n      return;\n    }\n\n    //(2) tạo hàm submit lấy job thêm vào danh sách jobs\n    setJobs((prev) => {\n      const newJobs = [...prev, job];\n\n      //Save to localstorage (3)\n      const jsonJobs = JSON.stringify(newJobs);\n      localStorage.setItem(\"jobs\", jsonJobs);\n\n      return newJobs;\n    });\n\n    setJob(\"\"); // set done chuyển thành chuỗi rỗng\n\n    inputRef.current.focus();\n  };\n\n  const deleteJob = (index) => {\n    const newJobs = [...jobs]; // tránh sửa mảng cũ, sửa mảng newJobs ko ảnh hưởng đến mảng cũ\n\n    newJobs.splice(index, 1);\n\n    //Save to localstorage\n    const jsonJobs = JSON.stringify(newJobs);\n    localStorage.setItem(\"jobs\", jsonJobs);\n\n    setJobs(newJobs);\n  };\n\n\n\n  return (\n    <div className=\"App\">\n      <h1>Todo List</h1>\n      <div className=\"form\">\n        <input\n          className=\"form-control\"\n          ref={inputRef}\n          value={job}\n          onChange={(e) => setJob(e.target.value)} // (1) two-way binding\n        />\n        <button className=\"btn\" onClick={handleSubmit}>\n          Add\n        </button>\n      </div>\n\n      <ul className=\"list-group\">\n        {jobs.map((job, index) => (\n          <li key={index} className=\"list-group-item\">\n\n            {job}\n\n            <span className=\"close\" onClick={() => deleteJob(index)}>\n              &times;\n            </span>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"4PAAA,OAASA,QAAT,CAAmBC,MAAnB,KAAiC,OAAjC,C,wFACA,QAASC,IAAT,EAAe,CACb,GAAMC,SAAQ,CAAGF,MAAM,EAAvB,CAEA,cAAsBD,QAAQ,CAAC,EAAD,CAA9B,wCAAOI,GAAP,eAAYC,MAAZ,eACA,eAAwBL,QAAQ,CAAC,UAAM,CACrC,GAAMM,YAAW,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAApB,CAA8D;AAC9D,MAAOJ,YAAP,SAAOA,WAAP,UAAOA,WAAP,CAAsB,EAAtB,CAA0B;AAC3B,CAH+B,CAAhC,yCAAOK,IAAP,eAAaC,OAAb,eAOA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CACzB,GAAI,CAACT,GAAG,CAACU,MAAT,CAAiB,CACfC,KAAK,CAAC,iBAAD,CAAL,CACA,OACD,CAED;AACAH,OAAO,CAAC,SAACI,IAAD,CAAU,CAChB,GAAMC,QAAO,8BAAOD,IAAP,GAAaZ,GAAb,EAAb,CAEA;AACA,GAAMc,SAAQ,CAAGX,IAAI,CAACY,SAAL,CAAeF,OAAf,CAAjB,CACAR,YAAY,CAACW,OAAb,CAAqB,MAArB,CAA6BF,QAA7B,EAEA,MAAOD,QAAP,CACD,CARM,CAAP,CAUAZ,MAAM,CAAC,EAAD,CAAN,CAAY;AAEZF,QAAQ,CAACkB,OAAT,CAAiBC,KAAjB,GACD,CApBD,CAsBA,GAAMC,UAAS,CAAG,QAAZA,UAAY,CAACC,KAAD,CAAW,CAC3B,GAAMP,QAAO,oBAAON,IAAP,CAAb,CAA2B;AAE3BM,OAAO,CAACQ,MAAR,CAAeD,KAAf,CAAsB,CAAtB,EAEA;AACA,GAAMN,SAAQ,CAAGX,IAAI,CAACY,SAAL,CAAeF,OAAf,CAAjB,CACAR,YAAY,CAACW,OAAb,CAAqB,MAArB,CAA6BF,QAA7B,EAEAN,OAAO,CAACK,OAAD,CAAP,CACD,CAVD,CAcA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,iCADF,cAEE,aAAK,SAAS,CAAC,MAAf,wBACE,cACE,SAAS,CAAC,cADZ,CAEE,GAAG,CAAEd,QAFP,CAGE,KAAK,CAAEC,GAHT,CAIE,QAAQ,CAAE,kBAACsB,CAAD,QAAOrB,OAAM,CAACqB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EAA+B;AAJ3C,EADF,cAOE,eAAQ,SAAS,CAAC,KAAlB,CAAwB,OAAO,CAAEf,YAAjC,iBAPF,GAFF,cAcE,WAAI,SAAS,CAAC,YAAd,UACGF,IAAI,CAACkB,GAAL,CAAS,SAACzB,GAAD,CAAMoB,KAAN,qBACR,YAAgB,SAAS,CAAC,iBAA1B,WAEGpB,GAFH,cAIE,aAAM,SAAS,CAAC,OAAhB,CAAwB,OAAO,CAAE,yBAAMmB,UAAS,CAACC,KAAD,CAAf,EAAjC,kBAJF,GAASA,KAAT,CADQ,EAAT,CADH,EAdF,GADF,CA6BD,CAED,cAAetB,IAAf"},"metadata":{},"sourceType":"module"}