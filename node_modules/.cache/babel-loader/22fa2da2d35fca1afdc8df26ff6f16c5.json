{"ast":null,"code":"import _objectSpread from\"C:/Users/lenovo/Desktop/todolist-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/lenovo/Desktop/todolist-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/lenovo/Desktop/todolist-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useCallback,useEffect,useState}from\"react\";import{TodoList}from\"./TodoList\";// uuid: tạo id duy nhất\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todoList=_useState2[0],setTodoList=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),job=_useState4[0],setJob=_useState4[1];// Get localstorage\nuseEffect(function(){var _JSON$parse;var storageTodoList=(_JSON$parse=JSON.parse(localStorage.getItem(\"todoList\")))!==null&&_JSON$parse!==void 0?_JSON$parse:[];// Lấy json parse ra mảng\nif(storageTodoList){setTodoList(storageTodoList);}},[]);//Save localstorage\nuseEffect(function(){var jsonTodoList=JSON.stringify(todoList);localStorage.setItem(\"todoList\",jsonTodoList);},[todoList]);// add\nvar handleSubmit=useCallback(function(){setTodoList(function(prev){return[].concat(_toConsumableArray(prev),[{name:job,isCompleted:false}]);});//reset input\nsetJob(\"\");},[job]);//checkdone: cần id -> filter todolist xem việc làm nào có id tương ứng & cập nhật lại giá trị isCompleted từ false > true\nvar checkDone=useCallback(function(id){setTodoList(function(prevState){return prevState.map(function(todo,index){return index===id?_objectSpread(_objectSpread({},todo),{},{isCompleted:true}):todo;});});},[]);// Delete\nvar deleteJob=function deleteJob(id){var newJobs=_toConsumableArray(todoList);newJobs.splice(id,1);// xóa 1 phần tử ở vị trí id\nsetTodoList(newJobs);};return/*#__PURE__*/_jsxs(\"div\",{className:\"list\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Danh s\\xE1ch c\\u1EA7n l\\xE0m\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Nh\\u1EADp vi\\u1EC7c l\\xE0m...\",value:job,onChange:function onChange(e){return setJob(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{disabled:!job,onClick:handleSubmit,children:\"Th\\xEAm\"})]}),/*#__PURE__*/_jsx(TodoList,{todoList:todoList,checkDone:checkDone,deleteJob:deleteJob})]});}export default App;","map":{"version":3,"names":["useCallback","useEffect","useState","TodoList","App","todoList","setTodoList","job","setJob","storageTodoList","JSON","parse","localStorage","getItem","jsonTodoList","stringify","setItem","handleSubmit","prev","name","isCompleted","checkDone","id","prevState","map","todo","index","deleteJob","newJobs","splice","e","target","value"],"sources":["C:/Users/lenovo/Desktop/todolist-app/src/App.js"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\nimport { TodoList } from \"./TodoList\";\n\n// uuid: tạo id duy nhất\n\nfunction App() {\n  const [todoList, setTodoList] = useState([]);\n  const [job, setJob] = useState(\"\");\n\n  // Get localstorage\n  useEffect(() => {\n    const storageTodoList = JSON.parse(localStorage.getItem(\"todoList\")) ?? []; // Lấy json parse ra mảng\n    if (storageTodoList) {\n      setTodoList(storageTodoList)\n    }\n  }, []);\n\n  //Save localstorage\n  useEffect(() => {\n    const jsonTodoList = JSON.stringify(todoList);\n    localStorage.setItem(\"todoList\", jsonTodoList);\n  }, [todoList]);\n\n  // add\n  const handleSubmit = useCallback(() => {\n    setTodoList((prev) => [...prev, { name: job, isCompleted: false }]);\n\n    //reset input\n    setJob(\"\");\n  }, [job]);\n\n  //checkdone: cần id -> filter todolist xem việc làm nào có id tương ứng & cập nhật lại giá trị isCompleted từ false > true\n  const checkDone = useCallback((id) => {\n    setTodoList((prevState) =>\n      prevState.map((todo, index) =>\n        index === id ? { ...todo, isCompleted: true } : todo\n      )\n    );\n  }, []);\n\n  // Delete\n  const deleteJob = (id) => {\n\t\t\tconst newJobs = [...todoList]\n\t\t\tnewJobs.splice(id, 1) // xóa 1 phần tử ở vị trí id\n      \n      setTodoList(newJobs)\n      \n  }\n\n  return (\n    <div className=\"list\">\n      <h2>Danh sách cần làm</h2>\n      <div className=\"input\">\n        <input\n          placeholder=\"Nhập việc làm...\"\n          value={job}\n          onChange={(e) => setJob(e.target.value)}\n        />\n        <button disabled={!job} onClick={handleSubmit}>\n          Thêm\n        </button>\n      </div>\n      <TodoList todoList={todoList} checkDone={checkDone} deleteJob={deleteJob}/>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"qXAAA,OAASA,WAAT,CAAsBC,SAAtB,CAAiCC,QAAjC,KAAiD,OAAjD,CACA,OAASC,QAAT,KAAyB,YAAzB,CAEA;wFAEA,QAASC,IAAT,EAAe,CACb,cAAgCF,QAAQ,CAAC,EAAD,CAAxC,wCAAOG,QAAP,eAAiBC,WAAjB,eACA,eAAsBJ,QAAQ,CAAC,EAAD,CAA9B,yCAAOK,GAAP,eAAYC,MAAZ,eAEA;AACAP,SAAS,CAAC,UAAM,iBACd,GAAMQ,gBAAe,cAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAH,2CAAmD,EAAxE,CAA4E;AAC5E,GAAIJ,eAAJ,CAAqB,CACnBH,WAAW,CAACG,eAAD,CAAX,CACD,CACF,CALQ,CAKN,EALM,CAAT,CAOA;AACAR,SAAS,CAAC,UAAM,CACd,GAAMa,aAAY,CAAGJ,IAAI,CAACK,SAAL,CAAeV,QAAf,CAArB,CACAO,YAAY,CAACI,OAAb,CAAqB,UAArB,CAAiCF,YAAjC,EACD,CAHQ,CAGN,CAACT,QAAD,CAHM,CAAT,CAKA;AACA,GAAMY,aAAY,CAAGjB,WAAW,CAAC,UAAM,CACrCM,WAAW,CAAC,SAACY,IAAD,qCAAcA,IAAd,GAAoB,CAAEC,IAAI,CAAEZ,GAAR,CAAaa,WAAW,CAAE,KAA1B,CAApB,IAAD,CAAX,CAEA;AACAZ,MAAM,CAAC,EAAD,CAAN,CACD,CAL+B,CAK7B,CAACD,GAAD,CAL6B,CAAhC,CAOA;AACA,GAAMc,UAAS,CAAGrB,WAAW,CAAC,SAACsB,EAAD,CAAQ,CACpChB,WAAW,CAAC,SAACiB,SAAD,QACVA,UAAS,CAACC,GAAV,CAAc,SAACC,IAAD,CAAOC,KAAP,QACZA,MAAK,GAAKJ,EAAV,gCAAoBG,IAApB,MAA0BL,WAAW,CAAE,IAAvC,GAAgDK,IADpC,EAAd,CADU,EAAD,CAAX,CAKD,CAN4B,CAM1B,EAN0B,CAA7B,CAQA;AACA,GAAME,UAAS,CAAG,QAAZA,UAAY,CAACL,EAAD,CAAQ,CACzB,GAAMM,QAAO,oBAAOvB,QAAP,CAAb,CACAuB,OAAO,CAACC,MAAR,CAAeP,EAAf,CAAmB,CAAnB,EAAsB;AAEnBhB,WAAW,CAACsB,OAAD,CAAX,CAEH,CAND,CAQA,mBACE,aAAK,SAAS,CAAC,MAAf,wBACE,oDADF,cAEE,aAAK,SAAS,CAAC,OAAf,wBACE,cACE,WAAW,CAAC,+BADd,CAEE,KAAK,CAAErB,GAFT,CAGE,QAAQ,CAAE,kBAACuB,CAAD,QAAOtB,OAAM,CAACsB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EAHZ,EADF,cAME,eAAQ,QAAQ,CAAE,CAACzB,GAAnB,CAAwB,OAAO,CAAEU,YAAjC,qBANF,GAFF,cAYE,KAAC,QAAD,EAAU,QAAQ,CAAEZ,QAApB,CAA8B,SAAS,CAAEgB,SAAzC,CAAoD,SAAS,CAAEM,SAA/D,EAZF,GADF,CAgBD,CAED,cAAevB,IAAf"},"metadata":{},"sourceType":"module"}